<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Dashboard â€” MVP</title>
  <style>
    :root { --bd:#e5e7eb; --fg:#0f172a; --mut:#64748b; --bg:#f8fafc; }
    * { box-sizing: border-box; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; color:var(--fg); background:var(--bg); }
    .wrap { max-width: 1100px; margin: 40px auto; padding: 0 16px; }

    h1 { margin: 0 0 6px; }
    small { color:var(--mut); }

    .grid { display:grid; gap:16px; grid-template-columns:1fr; }
    @media (min-width: 960px){ .grid{ grid-template-columns:1fr 1fr; } }

    .card { background:#fff; border:1px solid var(--bd); border-radius:14px; padding:16px; }
    .row { display:flex; align-items:center; justify-content:space-between; gap:10px; }

    .pill { border:1px solid var(--bd); border-radius:999px; padding:4px 8px; font-size:12px; color:#1f2937; }
    .mut { color:var(--mut); font-size:12px; }
    .btn { border:1px solid var(--bd); border-radius:10px; padding:6px 10px; background:#fff; cursor:pointer; }
    .kpi { font-weight:600; }

    /* ë¦¬ìŠ¤íŠ¸ ì¢Œì •ë ¬ & ê°„ê²© */
    ol.rank { margin:0; padding-left:0; list-style:none; }
    li.rank-item { display:flex; align-items:flex-start; justify-content:space-between; gap:12px; padding:10px 0; }
    .rank-left { display:flex; align-items:flex-start; gap:12px; min-width:0; }
    .rank-num { width:28px; height:28px; border:1px solid var(--bd); border-radius:999px; display:flex; align-items:center; justify-content:center; font-size:12px; color:#111827; flex:0 0 28px; }
    .rank-texts { display:flex; flex-direction:column; gap:2px; min-width:0; }
    .rank-title { font-weight:700; line-height:1.1; }
    .rank-sub { color:var(--mut); font-size:12px; }

    /* ë³€í™” ë°°ì§€ (ì£¼ì‹ ìŠ¤íƒ€ì¼) */
    .change { display:inline-flex; align-items:center; gap:6px; font-weight:600; }
    .change svg { width:16px; height:16px; }
    .change.up   { color:#16a34a; }  /* ì´ˆë¡ */
    .change.down { color:#dc2626; }  /* ë¹¨ê°• */
    .change.flat { color:#6b7280; }  /* ë³´í•© */
    .trend.down { transform: scaleY(-1); } /* í•˜ë½ì€ ìœ„ í™”ì‚´í‘œ ë’¤ì§‘ê¸° */
  </style>
</head>
<body>
  <div class="wrap">
    <header class="row" style="margin-bottom:16px;">
      <div>
        <h1>AI Dashboard â€” MVP</h1>
        <small>í•œ í˜ì´ì§€: 1) í”Œë«í¼ ìˆœìœ„ Â· 2) GitHub Â· 3) ë‰´ìŠ¤ Â· 4) AI Note</small>
      </div>
      <div class="row">
        <input id="q" placeholder="GitHub ê²€ìƒ‰ (í”„ë¡œì íŠ¸/íƒœê·¸)" style="border:1px solid var(--bd); border-radius:10px; padding:6px 10px; width:260px;" />
        <button class="btn" onclick="location.reload()">Refresh</button>
      </div>
    </header>

    <main class="grid" id="grid">
      <!-- 1. AI í”Œë«í¼ ìˆœìœ„ -->
      <section class="card">
        <div class="row" style="margin-bottom:6px;">
          <div class="row" style="gap:8px;"><div class="pill">â‘ </div><strong>&nbsp;AI í”Œë«í¼ ìˆœìœ„</strong></div>
          <span class="mut">ìƒ˜í”Œ ì§€í‘œ</span>
        </div>
        <ol id="platformList" class="rank"></ol>
      </section>

      <!-- 2. GitHub AI -->
      <section class="card">
        <div class="row" style="margin-bottom:6px;">
          <div class="row" style="gap:8px;"><div class="pill">â‘¡</div><strong>&nbsp;GitHub AI</strong></div>
          <select id="repoSort" class="btn">
            <option value="stars">Stars(7d)</option>
            <option value="commits">Commits(30d)</option>
            <option value="releases">Releases(90d)</option>
          </select>
        </div>
        <div id="repoList"></div>
      </section>

      <!-- 3. AI NEWS -->
      <section class="card">
        <div class="row" style="margin-bottom:6px;">
          <div class="row" style="gap:8px;"><div class="pill">â‘¢</div><strong>&nbsp;AI NEWS</strong></div>
          <span class="mut">3~5ê°œ ìš”ì•½</span>
        </div>
        <div id="newsList"></div>
      </section>

      <!-- 4. AI Note -->
      <section class="card">
        <div class="row" style="margin-bottom:6px;">
          <div class="row" style="gap:8px;"><div class="pill">â‘£</div><strong>&nbsp;AI Note (ì˜¤ëŠ˜ì˜ ë…¸íŠ¸)</strong></div>
          <span id="noteDate" class="mut"></span>
        </div>
        <div id="noteBox"></div>
      </section>
    </main>

    <footer class="mut" style="margin-top:14px;">
      Data: mock â†’ ë‚˜ì¤‘ì— Make.com JSONìœ¼ë¡œ êµì²´í•˜ì„¸ìš”. ê° ì¹´ë“œì— ì¶œì²˜ í‘œê¸° ê¶Œì¥.
    </footer>
  </div>

  <script>
    /* ---------- 0) ì¶”í›„ Make.com JSONìœ¼ë¡œ êµì²´í•  ìë¦¬ ----------
    const ENDPOINTS = { platforms:'...', repos:'...', news:'...', note:'...' };
    async function fetchJson(u){ const r=await fetch(u,{cache:'no-store'}); return r.json(); }
    -------------------------------------------------------------- */

    // 1) MOCK ë°ì´í„°
    const platforms = [
      { id:"openai", name:"OpenAI",       score:93, change7d: +8.2, highlight:"ëª¨ë¸/íˆ´í‚· ì—…ë°ì´íŠ¸", url:"https://openai.com" },
      { id:"anthropic", name:"Anthropic",  score:88, change7d: +6.1, highlight:"Claude ê°œì„ ",        url:"https://www.anthropic.com" },
      { id:"google", name:"Google AI",     score:83, change7d: +5.4, highlight:"Gemini ì›Œí¬í”Œë¡œ",     url:"https://ai.google" },
      { id:"perplexity", name:"Perplexity",score:79, change7d:+12.5, highlight:"ê²€ìƒ‰/ì„œí•‘ ì´ìŠˆ",      url:"https://www.perplexity.ai" },
      { id:"huggingface", name:"Hugging Face", score:76, change7d:+3.2, highlight:"Spaces/Inference", url:"https://huggingface.co" }
      // í•˜ë½ í…ŒìŠ¤íŠ¸: ì•„ë¬´ í•­ëª© change7dë¥¼ -2.5ë¡œ ë°”ê¿”ë³´ì„¸ìš”.
    ];

    const reposBase = [
      { id:"All-HandsAI/OpenHands", title:"OpenHands", stars:980, commits:120, releases:4, tags:["agent","automation"], pros:["ì‹¤í–‰ í™˜ê²½ ì œì–´","ë°ëª¨ ì„íŒ©íŠ¸"], cons:["ë³´ì•ˆ/ê²©ë¦¬ í•„ìš”","ì¼ê´€ì„± íŠœë‹"], url:"https://github.com/All-HandsAI/OpenHands" },
      { id:"google/gemini-actions", title:"Gemini Agent Samples", stars:640, commits:66, releases:3, tags:["agent","actions"], pros:["ì›Œí¬í”Œë¡œ ì—°ê³„","í…œí”Œë¦¿ í’ë¶€"], cons:["ê¶Œí•œ/ëª¨ë¸ ì„¤ì •","ëŸ¬ë„ˆ ë¹„ìš©"], url:"https://github.com/google/gemini-actions" },
      { id:"OpenPipe/OpenPromptHub", title:"OpenPromptHub", stars:310, commits:42, releases:5, tags:["prompt","library"], pros:["í”„ë¡¬í”„íŠ¸ ê´€ë¦¬","íƒìƒ‰ ì‰¬ì›€"], cons:["í’ˆì§ˆ í¸ì°¨","ë©”íƒ€ë°ì´í„° í‘œì¤€ í•„ìš”"], url:"#"}
    ];

    const news = [
      { id:"n1", title:"ê¸°ì—…ìš© ì½”ë”© ì—ì´ì „íŠ¸ í™•ì‚°", source:"Tech Brief", url:"#", date:new Date().toISOString().slice(0,10), summary:"í…ŒìŠ¤íŠ¸Â·PRê¹Œì§€ ìë™í™” ë²”ìœ„ í™•ëŒ€." },
      { id:"n2", title:"ë©€í‹°ëª¨ë‹¬ ì¶”ë¡  ê²½ìŸ",       source:"AI Watch",    url:"#", date:new Date().toISOString().slice(0,10), summary:"ì´ë¯¸ì§€+í…ìŠ¤íŠ¸ ê³¼ì œì—ì„œ ì°¨ë³„í™”." },
      { id:"n3", title:"í”„ë¡¬í”„íŠ¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë…¼ì˜", source:"Dev Forum",   url:"#", date:new Date().toISOString().slice(0,10), summary:"ë²„ì „/ìŠ¹ì¸/ë°°í¬ íŒŒì´í”„ë¼ì¸ ìš”êµ¬." }
    ];

    // 2) ë³€í™” ë°°ì§€ (ìë™: ìƒìŠ¹/í•˜ë½/ë³´í•©)
    function changeBadge(pct) {
      const up   = pct > 0;
      const flat = pct === 0;
      const cls  = flat ? 'flat' : (up ? 'up' : 'down');

      const arrow = flat
        ? `<svg viewBox="0 0 24 24" aria-hidden="true">
             <path d="M3 12 H21" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
           </svg>`
        : `<svg viewBox="0 0 24 24" class="trend ${up ? '' : 'down'}" aria-hidden="true">
             <path d="M3 16 L9 10 L13 14 L21 6"
                   fill="none" stroke="currentColor" stroke-width="2"
                   stroke-linecap="round" stroke-linejoin="round"/>
           </svg>`;

      const text = `${up ? '+' : (flat ? '' : '')}${pct.toFixed(1)}%`;
      return `<span class="change ${cls}">${arrow}<span>${text}</span></span>`;
    }

    // 3) ë Œë”ë§
    function renderPlatforms(){
      const ol = document.getElementById('platformList');
      ol.innerHTML = platforms.slice(0,5).map((p,i)=>`
        <li class="rank-item">
          <div class="rank-left">
            <div class="rank-num">${i+1}</div>
            <div class="rank-texts">
              <div class="rank-title">${p.name}</div>
              <div class="rank-sub">${p.highlight}</div>
            </div>
          </div>
          <div style="text-align:right;">
            <div class="kpi">Score ${Math.round(p.score)}</div>
            ${changeBadge(p.change7d)}
          </div>
        </li>
      `).join('');
    }

    function renderRepos(){
      const sort = document.getElementById('repoSort').value;
      const q = document.getElementById('q').value.trim().toLowerCase();
      let xs = reposBase.filter(r => (r.title + r.id + r.tags.join(" ")).toLowerCase().includes(q));
      xs.sort((a,b)=>{
        if (sort==='commits')  return b.commits  - a.commits;
        if (sort==='releases') return b.releases - a.releases;
        return b.stars - a.stars;
      });
      const box = document.getElementById('repoList');
      box.innerHTML = xs.map((r,i)=>`
        <div class="card" style="border:1px dashed var(--bd); padding:12px; margin-bottom:10px;">
          <div class="row">
            <div>
              <div class="kpi">${i+1}. ${r.title}</div>
              <div class="mut">${r.id} Â· ${r.tags.join(" / ")}</div>
            </div>
            <div class="mut">
              â­ +${r.stars} Â· âŸ² ${r.commits} Â· â‡ ${r.releases}
            </div>
          </div>
          <div class="grid" style="grid-template-columns:1fr 1fr; margin-top:8px;">
            <ul style="margin:0; padding-left:18px;">${r.pros.map(x=>`<li>ğŸ‘ ${x}</li>`).join('')}</ul>
            <ul style="margin:0; padding-left:18px;">${r.cons.map(x=>`<li>ğŸ‘ ${x}</li>`).join('')}</ul>
          </div>
          <div class="mut" style="margin-top:6px;"><a href="${r.url}" target="_blank" rel="noreferrer">Source</a></div>
        </div>
      `).join('');
    }

    function renderNews(){
      const box = document.getElementById('newsList');
      box.innerHTML = news.map(n=>`
        <div class="card" style="border:1px dashed var(--bd); padding:12px;">
          <div class="row">
            <div>
              <div class="kpi">${n.title}</div>
              <div class="mut">${n.source} Â· ${n.date}</div>
            </div>
            <a class="mut" href="${n.url}" target="_blank" rel="noreferrer">ì›ë¬¸</a>
          </div>
          <p style="margin:6px 0 0;">${n.summary}</p>
        </div>
      `).join('');
    }

    function renderNote(){
      const d = new Date().toISOString().slice(0,10);
      document.getElementById('noteDate').textContent = `Date: ${d}`;
      const topP = platforms[0];
      const topR = reposBase.slice().sort((a,b)=>b.stars-a.stars)[0];
      const box = document.getElementById('noteBox');
      box.innerHTML = `
        <div>
          <div class="kpi" style="margin-bottom:6px;">Hot Features</div>
          <ol style="margin:0; padding-left:18px;">
            <li>${topP.name} ì—…ë°ì´íŠ¸ â€” ğŸ‘ ${topP.highlight} / ğŸ‘ ì„¸ë¶€ ë¬¸ì„œ í™•ì¸ í•„ìš”</li>
            <li>GitHub: ${topR.title} â€” ğŸ‘ Starsâ†‘Â·ì»¤ë°‹ í™œë°œ / ğŸ‘ í™˜ê²½Â·ê¶Œí•œ êµ¬ì„± í•„ìš”</li>
            <li>ë©€í‹°ëª¨ë‹¬Â·ì—ì´ì „íŠ¸ ì£¼ê°„ ê°•ì„¸ â€” ğŸ‘ ì‚¬ìš©ì‚¬ë¡€ ì¦ê°€ / ğŸ‘ ë¹„ìš©Â·í’ˆì§ˆ í¸ì°¨</li>
          </ol>
        </div>
        <div style="margin-top:10px;">
          <div class="kpi" style="margin-bottom:6px;">Top News</div>
          <ul style="margin:0; padding-left:18px;">
            ${news.slice(0,3).map(n=>`<li><a href="${n.url}" target="_blank" rel="noreferrer">${n.title}</a> <span class="mut">(${n.source})</span></li>`).join('')}
          </ul>
        </div>
        <div style="margin-top:8px; font-style:italic;">Insight: ì´ë²ˆ ì£¼ëŠ” ì—ì´ì „íŠ¸/í”„ë¡¬í”„íŠ¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ìƒìŠ¹ì„¸.</div>
      `;
    }

    // ì´ˆê¸° ë Œë” & ì´ë²¤íŠ¸
    renderPlatforms(); renderRepos(); renderNews(); renderNote();
    document.getElementById('repoSort').addEventListener('change', renderRepos);
    document.getElementById('q').addEventListener('input', ()=>{ renderRepos(); });
  </script>
</body>
</html>
